<div class="[&_[x-cloak]]:hidden" x-data="{ modalOpen: false }">

    <!-- Video button -->
    <button
        class="cursor-pointer group inline-block rounded {{ class }}"
        @click="modalOpen = true"
        aria-controls="modal"
        aria-label="Watch the video"
    >
      <i class="mr-3 fa-solid fa-circle-play transition-transform duration-300 ease-in-out group-hover:scale-125 pl-1" data-fa-transform="grow-4"></i>
      Watch video
    </button>
    <!-- End: Video button -->

    <!-- Modal backdrop -->
    <div
        class="fixed inset-0 z-[99999] bg-slate-900 bg-opacity-50 transition-opacity"
        x-show="modalOpen"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-out duration-100"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0" 
        aria-hidden="true"
        x-cloak
    ></div>
    <!-- End: Modal backdrop -->

    <!-- Modal dialog -->
    <div
        id="modal"
        class="fixed inset-0 z-[99999] flex p-6"
        role="dialog"
        aria-modal="true"
        x-show="modalOpen"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 scale-75"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-out duration-200"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-75"
        x-cloak
    >
        <div class="max-w-5xl mx-auto h-full flex items-center">
            <div
                class="w-full max-h-full rounded-lg shadow-2xl bg-slate-900 border border-slate-700 overflow-hidden"
                @click.outside="modalOpen = false"
                @keydown.escape.window="modalOpen = false"
            >
                <video x-init="$watch('modalOpen', value => value ? $el.play() : $el.pause())" width="600" loop controls>
                    <source src="https://storage.googleapis.com/corbin.nz/video/3d_flyover.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>
    <!-- End: Modal dialog -->

</div>